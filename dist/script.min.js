var songRepository=function(){var e=document.getElementById("message"),t=[],n={artist:"",song:""},o=[],a=[],r=[],s=[];function i(){o=[],a=[],r=[],s=[],n.artist="",n.song="",document.getElementById("searchforartist").value="",document.getElementById("searchforsong").value=""}return{searchForSongArtist:function(e){n.artist="",n.artist=e.target.value},searchForSong:function(e){n.song="",n.song=e.target.value},validateInfo:function(){if(console.log(n),""===n.artist)e.innerHTML="Artist Search field Is Empty";else if(""==n.song)e.innerHTML="Song Search Field Is Empty";else{e.innerHTML="";for(let e=0;e<n.artist.length;e++)r.push(n.artist[e]);r.forEach(function(e){" "===e&&(e="%20"),s.push(e)});for(let e=0;e<n.song.length;e++)o.push(n.song[e]);o.forEach(function(e){" "===e&&(e="%20"),a.push(e)}),function(n,a){var s=0,l=0;const c=new AbortController;var d=window.setInterval(function(){var t=document.getElementById("gearOne"),n=document.getElementById("gearTwo");if(console.log(s),s>=2e3)window.clearInterval(d),c.abort(),t.style.opacity="0",n.style.opacity="0",i(),e.innerHTML="Application timed out, make sure you spelled the artist\n                 and song correctly and that you have a good internet connection";else{t.style.opacity="1";let e=`rotate(${s++}deg)`;t.style.transform=e,n.style.opacity="1";let o=`rotate(${l--}deg)`;n.style.transform=o}},10),u="https://api.lyrics.ovh/v1/"+`${n.join("")}`+"/"+`${a.join("")}`;fetch(u).then(function(e){return document.getElementById("gearOne").style.opacity="0",document.getElementById("gearTwo").style.opacity="0",window.clearInterval(d),e.json()}).then(function(e){let n=document.createElement("div");n.setAttribute("class","song-container"),document.getElementsByClassName("songList")[0].appendChild(n);let a=document.createElement("p");a.setAttribute("class","artist-song"),a.textContent=`${r.join("").toUpperCase()}`+" : "+`${o.join("").toUpperCase()}`,n.append(a);let s=document.createElement("p");s.setAttribute("class","lyrics"),s.textContent=e.lyrics,n.append(s),t.push(e.lyrics);let l=document.createElement("button");l.setAttribute("type","button"),l.setAttribute("class","btn btn-danger remove"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#Modal"),l.textContent="Remove",n.append(l),i(),l.addEventListener("click",function(e){let t="Are You Sure You Want To Remove<br>"+`<span class="highlight">${a.textContent}</span>`;document.getElementsByClassName("modal-title")[0].innerHTML=t,document.getElementsByClassName("delete")[0].addEventListener("click",function(){let t=e.target.parentNode;if(t){for(;t.hasChildNodes();)t.removeChild(t.lastChild),i();t.hasChildNodes()||t.parentNode.removeChild(t)}},!0)},!1)}).catch(function(){document.getElementById("gearOne").style.opacity="0",document.getElementById("gearTwo").style.opacity="0",window.clearInterval(d),e.innerHTML="Application timed out, make sure you spelled the artist\n            and song correctly and that you have a good internet connection",i()})}(s,a)}},eraseData:i}}();document.getElementById("searchforartist").addEventListener("input",e=>songRepository.searchForSongArtist(e),!1),document.getElementById("searchforsong").addEventListener("input",e=>songRepository.searchForSong(e),!1),document.getElementById("search-icon").addEventListener("click",songRepository.validateInfo,!1);